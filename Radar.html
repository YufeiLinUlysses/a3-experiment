<!DOCTYPE html>
<html>

<head>
    <title>Radar Graph</title>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>
</head>

<body>
    <!-- <p id="minVal"></p>
    <p id="maxVal"></p>
    <svg id="my_dataviz" width="1000" height="600"></svg> -->

</body>
<script>
    let data = [];
    let features = ["A", "B", "C", "D", "E", "F"];
    //generate the data
    for (var i = 0; i < 3; i++) {
        var point = {}
        //each feature will be a random number from 1-9
        features.forEach(f => point[f] = 1 + Math.random() * 8);
        data.push(point);
    }
    console.log(data);

    let svg = d3.select("body").append("svg")
        .attr("width", 600)
        .attr("height", 600);

    let radialScale = d3.scaleLinear()
        .domain([0, 10])
        .range([0, 250]);
    let ticks = [2, 4, 6, 8, 10];

    // Get the circle grid
    ticks.forEach(t =>
        svg.append("circle")
            .attr("cx", 300)
            .attr("cy", 300)
            .attr("fill", "none")
            .attr("stroke", "gray")
            .attr("r", radialScale(t))
    );

    // Add text to circle grid
    ticks.forEach(t =>
        svg.append("text")
            .attr("x", 305)
            .attr("y", 300 - radialScale(t))
            .text(t.toString())
    );

    // Plotting axes
    function angleToCoordinate(angle, value) {
        let x = Math.cos(angle) * radialScale(value);
        let y = Math.sin(angle) * radialScale(value);
        return { "x": 300 + x, "y": 300 - y };
    }

    for (var i = 0; i < features.length; i++) {
        let ft_name = features[i];
        let angle = (Math.PI / 2) + (2 * Math.PI * i / features.length);
        let line_coordinate = angleToCoordinate(angle, 10);
        let label_coordinate = angleToCoordinate(angle, 10.5);

        //draw axis line
        svg.append("line")
            .attr("x1", 300)
            .attr("y1", 300)
            .attr("x2", line_coordinate.x)
            .attr("y2", line_coordinate.y)
            .attr("stroke", "black");

        //draw axis label
        svg.append("text")
            .attr("x", label_coordinate.x)
            .attr("y", label_coordinate.y)
            .text(ft_name);
    }
</script>

</html>